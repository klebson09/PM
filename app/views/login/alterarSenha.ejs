<!DOCTYPE html>
<html>
  <head> 
    <meta charset="UTF-8">
    <title>PROJECT MARKETPLACE | Alterar Senha</title>
    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
    <!-- Bootstrap 3.3.2 -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <!-- Font Awesome Icons -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <!-- Theme style -->
    <link href="dist/css/AdminLTE.min.css" rel="stylesheet" type="text/css" />
    <!-- iCheck -->
    <link href="plugins/iCheck/square/blue.css" rel="stylesheet" type="text/css" />

  </head>
  <body class="login-page">
    <div class="login-box" style="width: 350px;">
      <div class="login-logo">
        <a href="../apresentacao/apresentacao.html"><b>PROJECT MARKETPLACE</b></a> <!-- KL redireciona para a tela de apresentação inicial -->
      </div><!-- /.login-logo -->
      <div class="login-box-body">
        <p class="login-box-msg">Alteração da Senha</p>
        <form id="actionSenha" action="/alteracao_senha" method="post">
          <input type="hidden" name="token" value="<%= token %>"/>
          <div class="form-group has-feedback">
            <input type="password" id="novaSenha" name="novaSenha" class="form-control" placeholder="Nova Senha"/>
            <span class="glyphicon glyphicon-lock form-control-feedback"></span>
          </div>
          <div class="form-group has-feedback">
            <input type="password" id="confirmarNovaSenha" name="confirmarNovaSenha" class="form-control" placeholder="Confirme a nova senha"/>
            <span class="glyphicon glyphicon-lock form-control-feedback"></span>
          </div>
          <div class="row">
            <div class="col-xs-offset-4 col-xs-4">
              <button  onclick="validarSenha()" class="btn btn-primary btn-block btn-flat">Alterar</button>
            </div><!-- /.col -->
          </div>
        </form>
        <% if(validacao.length > 0 ){%>
        <div class="alert alert-danger alert-dismissable">
          <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
          <h4><i class="icon fa fa-ban"></i> Atenção</h4>
          <ul>
            <% for(var i=0; i < validacao.length; i++){ %>
              <li> <%=validacao[i].msg %>
            <% } %>
          </ul>

        </div>
        <% } %>
<!--
        <div class="social-auth-links text-center">
          <p>- OR -</p>
          <a href="#" class="btn btn-block btn-social btn-facebook btn-flat"><i class="fa fa-facebook"></i> Sign in using Facebook</a>
          <a href="#" class="btn btn-block btn-social btn-google-plus btn-flat"><i class="fa fa-google-plus"></i> Sign in using Google+</a>
        </div>
  -->       <!-- /.social-auth-links -->

        


      </div><!-- /.login-box-body -->
    </div><!-- /.login-box -->

    <!-- jQuery 2.1.3  -->
    <script src="plugins/jQuery/jQuery-2.1.3.min.js"></script>

    <!-- Bootstrap 3.3.2 JS -->
    <script src="bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <!-- iCheck -->
    <script src="plugins/iCheck/icheck.min.js" type="text/javascript"></script>
    <script>
      $(function () {
        $('input').iCheck({
          checkboxClass: 'icheckbox_square-blue',
          radioClass: 'iradio_square-blue',
          increaseArea: '20%' // optional
        });
      });

      function validarSenha(){


        var senha = document.getElementById("novaSenha").value;
        var csenha = document.getElementById("confirmarNovaSenha").value;
        console.log("senha = "+senha+" csenha = "+csenha);
        if(senha != undefined && csenha != undefined){
          if(senha != csenha){
            alert("Senha não corresponde ao valor da senha confirmada!");
            //return false;
          } else {

            $("#actionSenha").submit();
          }
        }
      }


    </script>
  </body>
</html>
